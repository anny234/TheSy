(include list)
(include list.res)

(declare-fun filter ((-> Nat bool) Lst) Lst)
(=> filter_base (filter ?p nil) nil)
(=> filter_ind (filter ?p (cons ?x ?xs)) (ite (apply ?p ?x) (cons ?x (filter ?p ?xs)) (filter ?p ?xs)))

(=|> filter_split (filter (apply ?p ?x) ?t) (potential_split (apply ?p ?x) true false))